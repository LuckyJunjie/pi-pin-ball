# 📋 吞吐量优化Prompt模板

## 🎯 优化原则

### 1. 精简Prompt长度

**优化前:**
```
请帮我完成以下任务：
1. 读取文件 A
2. 分析内容
3. 读取文件 B
4. 比较差异
5. 生成报告
请仔细检查每个步骤，确保没有遗漏。
谢谢！
```

**优化后:**
```
任务：对比文件A和B，生成差异报告
```

### 2. 批量处理任务

**优化前:**
```
请读取文件 main.gd，然后告诉我有什么问题。
然后读取 Ball.gd，告诉我有什么问题。
然后读取 Flipper.gd，告诉我有什么问题。
```

**优化后:**
```
检查以下文件的问题：main.gd, Ball.gd, Flipper.gd
输出：每个文件的问题列表
```

### 3. 使用上下文缓存

**优化前:**
```
每次对话都重新描述项目背景
```

**优化后:**
```
使用 MEMORY.md 作为上下文
仅提供新增信息
```

### 4. 减少工具调用

**优化前:**
```
read(file1) → read(file2) → read(file3) → edit(file1) → edit(file2) → edit(file3)
```

**优化后:**
```
batch_read([file1, file2, file3]) → batch_edit([file1, file2, file3])
```

---

## 📝 标准Prompt模板

### 模板1：代码审查

```
审查 {文件列表}
输出：
- 问题类型 (Bug/优化/风格)
- 行号
- 问题描述
- 修复建议
```

### 模板2：功能开发

```
实现功能：{功能名称}
文件：{相关文件}
要求：
- {具体要求1}
- {具体要求2}
输出：修改后的完整代码
```

### 模板3：文档更新

```
更新 {文档名称}
内容：{新内容}
格式：Markdown
```

### 模板4：批量文件处理

```
批量处理：{文件列表}
操作：{read/edit/create/delete}
参数：{具体参数}
```

---

## 🚀 优化效果预期

| 优化项 | 当前 | 优化后 | 提升 |
|--------|------|--------|------|
| Prompt长度 | 500字 | 50字 | 90%↓ |
| 工具调用 | 10次/任务 | 3次/任务 | 70%↓ |
| 上下文重建 | 5次/天 | 1次/天 | 80%↓ |
| **Token效率** | **10%** | **30%** | **200%↑** |

---

*优化时间: 2026-02-19*
